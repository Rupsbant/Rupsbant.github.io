(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(38),s=n.n(i),c=n(13),o=n(6),l=n(4),u=n(8),h=n(7),d=n(9),m=n(2),f=n(163),v=n(164),b=n(161),p=n(62),y=n.n(p),k=(n(79),n(63)),_=n(41),O=n.n(_),g=void 0,j=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={sidebarDocked:!1,sidebarOpen:!1},n.mediaQueryChanged=n.mediaQueryChanged.bind(Object(m.a)(Object(m.a)(n))),n.onSetSidebarOpen=n.onSetSidebarOpen.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){g||(g=window.matchMedia("(min-width: 1000px)")),g.addListener(this.mediaQueryChanged)}},{key:"componentWillUnmount",value:function(){g||(g=window.matchMedia("(min-width: 1000px)")),g.removeListener(this.mediaQueryChanged)}},{key:"onSetSidebarOpen",value:function(e){this.setState({sidebarOpen:e})}},{key:"mediaQueryChanged",value:function(){this.setState({sidebarDocked:g.matches,sidebarOpen:!1})}},{key:"render",value:function(){var e=this.state.sidebarDocked,t=this.state.sidebarOpen,n=this.onSetSidebarOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{title:"Ingmars birthday"},r.a.createElement("html",{lang:"en"})),r.a.createElement(k.a,{sidebar:r.a.createElement("div",null,!e&&t&&r.a.createElement("div",{style:{float:"right"}},r.a.createElement(O.a,{isOpen:t,menuClicked:function(){n(!t)},width:18,height:15,strokeWidth:2,animationDuration:.5,borderRadius:0,color:"white"})),this.props.sidebar),styles:{sidebar:{"background-color":"#444"}},open:t,docked:e,onSetOpen:n},!e&&r.a.createElement(O.a,{isOpen:t,menuClicked:function(){n(!t)},width:18,height:15,strokeWidth:2,animationDuration:.5,borderRadius:0,color:"white"}),r.a.createElement("div",null,this.props.children)))}}]),t}(r.a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.show?r.a.createElement("div",{className:"backdrop"},r.a.createElement("div",{className:"modal"},this.props.children)):null}}]),t}(r.a.Component),E=4096,w=[[1209,1336,1477,1633],[697,770,852,941]],S=[0,1,2,3,0,4,8,12],q=["1","2","3","A","4","5","6","B","7","8","9","C","*","0","#","D"],N={};function A(e,t){function n(e){return function(){return new Promise(function(t,n){!function(e,t,n){n=n||.5;var a=window.__context__||new AudioContext;window.__context__||(window.__context__=a);var r=a.createBuffer(2,8e3,8e3),i=r.getChannelData(0),s=r.getChannelData(1);if(!window.__pushed__&&(setTimeout(function(){window.__pushed__=!1,t&&t()},1e3*n),N[e])){for(var c=0;c<8e3*n;c++)i[c]=Math.sin(2*Math.PI*N[e][0]*(c/8e3)),i[c]+=Math.sin(2*Math.PI*N[e][1]*(c/8e3)),i[c]*=.5,s[c]=i[c];var o=a.createGain();o.connect(a.destination);var l=a.createBufferSource();l.buffer=r,l.connect(o),l.start(0),window.__pushed__=!0,window.__context__||(window.__context__=a)}}(e,t,.5)})}}var a=Promise.resolve();return e.split("").reduce(function(e,t){return e.then(n(t)).then(n(" "))},a).then(t)}function x(e,t,n){!function(e,t){var n=window.__context__||new AudioContext;window.__context__&&(window.__context__=n);var a=n.createAnalyser(),r=n.createWaveShaper(),i=(n.createGain(),n.createBiquadFilter());a.fftSize=E,a.smoothingTimeConstant=0;var s={callback:e,timer:void 0},c=w.flat().map(function(e){return Math.round(e/(n.sampleRate/E))});function o(){var e=a.frequencyBinCount,t=new Uint8Array(e);a.getByteFrequencyData(t);var n=c.map(function(e,n){return[t[e],n]});if(n.sort(function(e,t){return t[0]-e[0]}),n[1][0]>100){var r=S[n[0][1]]+S[n[1][1]];s.callback(q[r])}else s.callback(void 0)}navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){n.createMediaStreamSource(e).connect(r),r.connect(i),i.connect(a),s.timer=setInterval(o,200),t&&t(s)},console.error)}(function(e,t){t=t||20;var n=Array(t);return function(t){if(n[0]!=t)if(n[0])n.unshift(t),n.pop();else{n[0]=t;var a=n.slice().reverse().join("");e(a)}}}(e,t),n)}w[0].map(function(e,t){w[1].map(function(n,a){var r=q[4*a+t];N[r]=[e,n]})});var D=n(24),M=n.n(D);function W(e){var t=e.active?" active":"",n="square "+function(e){switch(e){case 1:return"rotate90";case 2:return"rotate180";case 3:return"rotate270";default:case 0:return"rotate0"}}(e.rot)+t;return r.a.createElement("button",{className:n,onClick:e.onClick},e.value)}var B=[["A","B","C","D","E","F"],["G","H","J","I","K","L"],["M","N","O","P","Q","R"],["S","T","U","V","W","X"],["Y","Z","0","1","2","3"],["4","5","6","7","8","9"]];function I(e){var t=B.map(function(t,n){var a=t.map(function(t,a){return r.a.createElement(W,{value:t,active:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}([n,a],e.selected),rot:0,onClick:function(){return e.onClick(n,a)}})});return r.a.createElement("div",{className:"board-row"},a)});return r.a.createElement("div",{className:"field"},t)}Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};var z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={squares:Array(e.length).fill(0).map(function(){return{value:"_",rot:Math.floor(4*Math.random())}}),active:0,selected:[0,0]},n.dispatch=n.dispatch.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){4&this.props.sync.state.progress?this.props.sync.sync_start("452*#",this.dispatch):this.props.sync.sync_start()}},{key:"dispatch",value:function(e){switch(e.charAt(e.length-1)){case"1":this.rot(this.state.active,3);break;case"4":this.rot(this.state.active,1);break;case"2":this.handleClick(this.state.active-1);break;case"5":this.handleClick(this.state.active+1);break;case"3":this.handleSelect(this.state.selected[0]-1,this.state.selected[1]-1);break;case"6":this.handleSelect(this.state.selected[0]+1,this.state.selected[1]+1);break;case"7":this.handleSelect(this.state.selected[0],this.state.selected[1]-1);break;case"8":this.handleSelect(this.state.selected[0],this.state.selected[1]+1)}}},{key:"rot",value:function(e,t){this.state.squares[e].rot+=t,this.state.squares[e].rot%=4,this.setState(this.state),this.checkSolution()}},{key:"handleClick",value:function(e){this.state.squares[e].rot+=1,this.state.squares[e].rot%=4,this.state.active=e,this.setState(this.state),this.checkSolution()}},{key:"handleSelect",value:function(e,t){e=e.clamp(0,B.length),t=t.clamp(0,B[0].length),this.state.selected=[e,t],this.state.squares[this.state.active].value=B[e][t],this.setState(this.state),this.checkSolution()}},{key:"checkSolution",value:function(){var e=this.state.squares.map(function(e){return e.rot+""+e.value}).join("");console.log(e),"1a7ea1b84c00e78b0ca70e78abf3870a"==M()(e)&&this.props.sync.add_progress(4)}},{key:"renderSquare",value:function(e){var t=this,n=this.state.squares[e];return r.a.createElement(W,{value:n.value,rot:n.rot,active:e==this.state.active,onClick:function(){return t.handleClick(e)}})}},{key:"render",value:function(){var e=this,t=this.state.squares.map(function(t,n){return e.renderSquare(n)});return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"field"}," Welk woord wordt korter als je er twee letters aan toevoegd? "),r.a.createElement("div",{className:"field"},t),r.a.createElement(I,{selected:this.state.selected,onClick:function(t,n){return e.handleSelect(t,n)}}))}}]),t}(r.a.Component),F=(n(85),n(40)),P=n.n(F),Q=function(){return r.a.createElement("img",{width:"100%",src:"queen.yellow.med.png"})};function R(e){var t="square "+(e.active?" active":"")+(e.error?" error":"");return r.a.createElement("button",{className:t,onClick:e.onClick},e.queen&&r.a.createElement(Q,null))}function L(e,t){return Array(e).fill(0).map(function(n,a){var r=t[a];return-1==r||Array(e).fill(0).some(function(e,n){var i=t[n];return a!=n&&-1!=i&&(r==i||r+a==i+n||r+n==i+a)})})}function U(e){var t=e.size,n=(e.field,L(t,e.field)),a=Array(t).fill(0).map(function(a,i){var s=Array(t).fill(0).map(function(t,a){return r.a.createElement(R,{queen:i===e.field[a],active:a===e.column,error:n[a]&&i===e.field[a],onClick:function(){return e.onClick(a,i)}})});return r.a.createElement("div",{className:"board-row"},s)});return r.a.createElement("div",{className:"field"},a)}var T=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state=n.init(e.size),n.onClick=n.onClick.bind(Object(m.a)(Object(m.a)(n))),n.dispatch=n.dispatch.bind(Object(m.a)(Object(m.a)(n))),n.check_solution=n.check_solution.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"init",value:function(e){var t=Array(e).fill(-1);return t[8]=8,{queens:t,column:0}}}]),Object(l.a)(t,[{key:"componentDidMount",value:function(){2&this.props.sync.state.progress?this.props.sync.sync_start("A56*#",this.dispatch):this.props.sync.sync_start()}},{key:"dispatch",value:function(e){var t=this.state.queens.slice();if(e.endsWith("A*#"))return this.props.sync.play("*#"),void this.setState(this.init(t.length),this.check_solution);var n=e.slice(-2),a=this.rowfield(),r=function(e,t){e.charCodeAt(0);var n=e.charCodeAt(1),a="1".charCodeAt(),r="6".charCodeAt(),i="A".charCodeAt(),s=n-a,c=15&t;switch(e.charAt(0)){case"0":return 16*(0+s)+c;case"9":return 16*(8+s)+c;case"1":case"2":case"3":case"4":var o=e.charAt(1);if(o>="A"&&o<="D")return t|1<<n-i;if(o>="6"&&o<="9")return t&~(1<<n-r);default:return t}}(n,a)^a,i=function(e){for(var t=-1;0!=e;)t++,e>>=1;return t}(r);r&a?t[this.state.queens.findIndex(function(e){return e==i})]=-1:t[this.firstFreeColumn()]=i;this.setState(Object(c.a)({},this.state,{column:this.firstFreeColumn(t),queens:t}),this.check_solution)}},{key:"rowfield",value:function(){for(var e=this.state.queens,t=0,n=0;n<e.length;++n)n>=8||e[n]<0||(t|=1<<e[n]);return t}},{key:"firstFreeColumn",value:function(e){e=e||this.state.queens;for(var t=0;t<e.length;++t)if(e[t]<0)return t}},{key:"onClick",value:function(e,t){var n=this.state.queens.slice();n[e]===t?(n[e]=-1,e-=1):n[e]=t,this.setState(Object(c.a)({},this.state,{column:e+1,queens:n}),this.check_solution)}},{key:"check_solution",value:function(){L(this.state.queens.length,this.state.queens).some(function(e){return e})||this.props.sync.add_progress(4)}},{key:"render",value:function(){var e=this.state.queens.length;return r.a.createElement("div",{className:"game"},!L(e,this.state.queens).some(function(e){return e})&&r.a.createElement("h1",{class:"field"}," Winner! "),r.a.createElement(U,{size:e,field:this.state.queens,column:this.state.column,onClick:this.onClick}))}}]),t}(r.a.Component);function G(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var H=[["/","/","/","/","/","1","/","/","/","/","/","/","/","/","/","/","/"],["/","/","/","/","/"," ","/","/","/","/","3","/","/","/","A","/","/"],["/","/","0","/","/"," ","/","/","/","6"," "," "," "," "," "," "," "],["/","/"," ","/","/"," ","/","2","/","/"," ","/","/","/"," ","/","/"],["/","/"," ","/","/"," ","/"," ","/","/"," ","/","5","/"," ","/","/"],["/","7"," "," "," "," "," "," "," "," "," "," "," ","/","/","/","/"],["/","/"," ","/","/"," ","/"," ","/","/","/","/"," ","/","/","/","/"],["/","/"," ","/","/"," ","/"," ","/","/","/","/"," ","/","/","/","/"],["/","/"," ","/","/"," ","/"," ","/","/","/","/"," ","/","/","/","/"],["/","/"," ","/","/","/","/"," ","/","8"," "," "," "," "," "," ","/"],["/","/","/","/","/","/","/","/","/","/","4","/"," ","/","/","/","/"],["/","/","/","/","/","/","/","/","/","/"," ","/"," ","/","/","/","/"],["/","/","/","/","/","/","/","/","/","/"," ","/"," ","/","/","/","/"],["/","/","/","/","/","/","/","9"," "," "," "," "," "," "," "," ","/"],["/","/","/","/","/","/","/","/","/","/","/","/"," ","/","/","/","/"]],J=[[7,12],[2,5],[2,11],[7,12],[9,2],[8,7],[11,10],[3,14],[9,14],[13,15]],K=[{number:0,hint:"De beste teamnaam ooit"},{number:1,hint:"Groep mensen met een rare obsessie met eten"},{number:2,hint:"Speedy thing goes in, speedy thing goes out"},{number:3,hint:"Welk beest kan niet van Jeroens billen blijven"},{number:4,hint:"Waar waren de beste schaakpartijen"},{number:5,hint:"Let me out!"},{number:6,hint:"De slechte programmeertaal ooit"},{number:7,hint:"Ingmar's lievelingsboek"},{number:8,hint:"Wat doet Ingmar op z'n pianokruk"},{number:9,hint:"Keep talking and nobody"},{number:"A",hint:"Hoeveel keer zal Ingmar zijn rijbewijs proberen"}],V=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{onClick:this.props.onClick,onKeyPress:function(t,n){return e.emitChange(t,n)},className:this.props.className,contentEditable:this.props.editable,dangerouslySetInnerHTML:{__html:this.props.value}})}},{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"emitChange",value:function(e){if(e.preventDefault(),0===e.charCode||!/[a-z]/.test(String.fromCharCode(e.charCode)))return!0;var t=String.fromCharCode(e.charCode).toUpperCase();return this.props.onChange(t),!0}}]),t}(r.a.Component);function X(e){var t="square "+(e.active?" active":"")+(e.inactive?" inactive":"")+(e.final?" final":"")+(e.number?" number":"");return r.a.createElement(V,{className:t,onClick:e.onClick,editable:!e.inactive,onChange:e.onChange,value:e.value},"props.value")}function Y(e){var t=e.field.map(function(t,n){var a=t.map(function(t,a){return r.a.createElement(X,{value:(i=t,"/"==i?"":i),active:G(e.selected,[n,a]),final:J.some(function(e){return G(e,[n,a])}),inactive:" "!=H[n][a],number:" "!=H[n][a]&&"/"!=H[n][a],onClick:function(){return e.onClick(n,a)},onChange:function(t){return e.onChange(n,a,t)}});var i});return r.a.createElement("div",{className:"board-row"},a)});return r.a.createElement("div",{className:"field"},t)}var Z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={selected:[0,0],field:P()(H)},n.handleSelect=n.handleSelect.bind(Object(m.a)(Object(m.a)(n))),n.onChange=n.onChange.bind(Object(m.a)(Object(m.a)(n))),n.unlock=n.unlock.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.sync.sync_start()}},{key:"handleSelect",value:function(e,t){this.state.selected=[e,t],this.setState(this.state)}},{key:"onChange",value:function(e,t,n){this.state.field[e][t]=n,this.setState(this.state,this.unlock)}},{key:"unlock",value:function(){var e=this,t=J.map(function(t){return e.state.field[t[0]][t[1]]}).join("");"592e880590d1e7ae31530a2e191cf41d"==M()(t)&&this.props.sync.add_progress(2)}},{key:"renderSquare",value:function(e){var t=e[0],n=e[1],a=this.state.field[t][n];return r.a.createElement(X,{value:a})}},{key:"render",value:function(){var e=this;var t=J.map(function(t,n){return e.renderSquare(t)}),n=K.map(function(e){return r.a.createElement("div",{className:"board-row"},r.a.createElement("div",{className:"hint number"},e.number,"."),r.a.createElement("div",{className:"hint"},e.hint))});return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"field"},n),r.a.createElement(Y,{field:this.state.field,selected:this.state.selected,onClick:this.handleSelect,onChange:this.onChange}),r.a.createElement("div",{className:"field"},t))}}]),t}(r.a.Component),$=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={synced:!1,expected_sync:void 0,after_sync:void 0,progress:0},n.sync_start=n.sync_start.bind(Object(m.a)(Object(m.a)(n))),n.sync_restart=n.sync_restart.bind(Object(m.a)(Object(m.a)(n))),n.sync_success=n.sync_success.bind(Object(m.a)(Object(m.a)(n))),n.sync_fail=n.sync_fail.bind(Object(m.a)(Object(m.a)(n))),n.dispatcher=n.dispatcher.bind(Object(m.a)(Object(m.a)(n))),n.call=n.call.bind(Object(m.a)(Object(m.a)(n))),n.handleChange=n.handleChange.bind(Object(m.a)(Object(m.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(Object(m.a)(n))),n.add_progress=n.add_progress.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"do_sync",value:function(){return void 0!=this.state.expected_sync&&this.state.synced!=this.state.expected_sync}},{key:"dispatcher",value:function(e){var t,n;this.do_sync()?(t="*#",n=this.sync_success,function(e){e.endsWith(t)&&n(e)})(e):this.state.after_sync&&this.state.after_sync(e)}},{key:"call",value:function(){var e=this.state.expected_sync;this.do_sync()&&A(e+"    ",this.call)}},{key:"play",value:function(e,t){A(e,t)}},{key:"sync_restart",value:function(){this.sync_start(this.state.expected_sync,this.state.after_sync)}},{key:"sync_start",value:function(e,t){var n=Object(c.a)({},this.state,{synced:void 0,expected_sync:e,after_sync:t});function a(e){var t=Object(c.a)({},this.state,{listener:e});this.setState(t,this.call)}this.setState(n,function(){if(!e)return;this.state.listener?a.bind(this)(this.state.listener):x(this.dispatcher,20,a.bind(this))})}},{key:"sync_success",value:function(){this.do_sync()&&this.setState(Object(c.a)({},this.state,{synced:this.state.expected_sync}))}},{key:"sync_fail",value:function(){this.setState(Object(c.a)({},this.state,{expected_sync:void 0}))}},{key:"handleChange",value:function(e){this.setState(Object(c.a)({},this.state,{manual_input:e.target.value}))}},{key:"handleSubmit",value:function(e){this.dispatcher(this.state.manual_input),e.preventDefault()}},{key:"add_progress",value:function(e){console.log("Adding",e),this.setState(Object(c.a)({},this.state,{progress:this.state.progress|e}))}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement(j,{sidebar:r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement(v.a,{exact:!0,to:"/"},"Home")),r.a.createElement("ul",null,r.a.createElement(v.a,{to:"/C"},"Crossword")),r.a.createElement("ul",null,r.a.createElement(v.a,{to:"/B"},"Queens")),r.a.createElement("ul",null,r.a.createElement(v.a,{to:"/A"},"Rarara")),this.state.expected_sync&&!this.do_sync()&&r.a.createElement("ul",null,r.a.createElement("h3",{className:"field",onClick:this.sync_restart},"Resync!")))},r.a.createElement(C,{show:this.do_sync(),contentLabel:"Sync"},r.a.createElement("div",{className:"game"},r.a.createElement("h1",{className:"field",style:{color:4095}},"Syncing"),r.a.createElement(b.a,{render:function(t){var n=t.history;return r.a.createElement("button",{className:"button",onClick:function(){e.sync_fail(),n.push("/")}},"Fail")}}),r.a.createElement("button",{className:"button",onClick:this.sync_success},"Manual sync"))),r.a.createElement(C,{show:7==this.state.progress,contentLabel:"Sync"},r.a.createElement("h1",{className:"field",style:{color:4095}},"Proficiat!"),r.a.createElement("h2",{className:"field",style:{color:4095}},"Kijk in de frigo.")),r.a.createElement("div",{className:"content"},r.a.createElement(b.a,{exact:!0,path:"/"}),r.a.createElement(b.a,{path:"/C",render:function(){return r.a.createElement(Z,{sync:e})}}),r.a.createElement(b.a,{path:"/B",render:function(){return r.a.createElement(T,{sync:e,size:9,state:e.state.queens})}}),r.a.createElement(b.a,{path:"/A",render:function(){return r.a.createElement(z,{sync:e,length:4})}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(160)},79:function(e,t,n){}},[[65,2,1]]]);
//# sourceMappingURL=main.9fe9837b.chunk.js.map
